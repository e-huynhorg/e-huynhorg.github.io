<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <title>Weekly Boss Crystal</title>
    <link rel="stylesheet" href="../style/style.css" id="themeStylesheet">
    <link rel="stylesheet" href="../style/bosscrystal.css">
    <script type="module">
        import { initializeUI } from "../script/ui.js";
        import { initializePage } from "../script/bosscrystal.js";
        
        // Initialize the page when DOM content is loaded
        document.addEventListener('DOMContentLoaded', () => {
            // First initialize UI (includes theme)
            initializeUI();
            // Then initialize the boss crystal page functionality (weekly mode)
            initializePage({
                mode: 'weekly',
                csv: 'bosscrystal_weekly.csv',
                limit: 14
            });
        });
    </script>
</head>
<body>
    <div id="container">
        <!-- Navbar will be added by ui.js -->
        
        <h1>Weekly Boss Crystal</h1>
        
        <div class="controls-container">
            <div class="heroic-mode-container">
                <input type="checkbox" id="heroicMode">
                <label for="heroicMode">Heroic Mode (5x Meso)</label>
            </div>
            <div class="crystal-counter">
                <span id="crystalCount">0</span><span>/</span><select id="crystalLimit">
                    <option value="12">12</option>
                    <option value="14" selected>14</option>
                </select><span> Crystals Selected</span>
            </div>
            <div class="total-container">
                <span>Total Meso: </span>
                <span id="totalMeso" class="total-value">0</span>
            </div>
            <button id="resetSelections" class="reset-button">Reset Selections</button>
        </div>
        
        <div id="errorMessage" style="color: red;"></div>
        
        <table id="bossTable" class="data-table">
            <thead>
                <tr>
                    <th class="center-header">Select</th>
                    <th>Boss</th>
                    <th>Difficulty</th>
                    <th class="right-align">Meso Value</th>
                </tr>
            </thead>
            <tbody>
                <!-- Table data will be populated by JavaScript -->
            </tbody>
        </table>
    </div>
</body>
</html>
